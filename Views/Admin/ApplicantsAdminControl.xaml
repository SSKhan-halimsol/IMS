<UserControl x:Class="IMS.Views.Admin.ApplicantsAdminControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="clr-namespace:IMS.ViewModels"
             Background="Black">

    <UserControl.DataContext>
        <vm:ApplicantsAdminViewModel/>
    </UserControl.DataContext>

    <Grid Margin="12">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Search -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,0,0,8">
            <TextBlock Text="Search :" VerticalAlignment="Center" Foreground="White" Margin="0,0,8,0"/>
            <TextBox Width="240" Height="30"
                     Text="{Binding SearchText, UpdateSourceTrigger=PropertyChanged}"
                     VerticalContentAlignment="Center"
                     ToolTip="Search applicants"/>
            <Button Content="Refresh" Height="30" Margin="8,0,0,0"
                    Command="{Binding RefreshCommand}"/>
        </StackPanel>

        <Grid Grid.Row="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- DataGrid -->
            <DataGrid Grid.Row="0"
                  ItemsSource="{Binding ApplicantsView}"
                  AutoGenerateColumns="False"
                  IsReadOnly="True"
                  AlternatingRowBackground="#222"
                  RowBackground="#111"
                  Foreground="White"
                  Background="Black"
                  HeadersVisibility="Column"
                  MouseDoubleClick="ApplicantsGrid_MouseDoubleClick"
                  GridLinesVisibility="Horizontal"
                  BorderBrush="Gray"
                  BorderThickness="1">

                <!-- Header Styling -->
                <DataGrid.ColumnHeaderStyle>
                    <Style TargetType="DataGridColumnHeader">
                        <Setter Property="Background" Value="#333"/>
                        <Setter Property="Foreground" Value="White"/>
                        <Setter Property="FontWeight" Value="Bold"/>
                        <Setter Property="HorizontalContentAlignment" Value="Center"/>
                        <Setter Property="BorderBrush" Value="Gray"/>
                        <Setter Property="BorderThickness" Value="0,0,1,1"/>
                    </Style>
                </DataGrid.ColumnHeaderStyle>

                <DataGrid.Columns>
                    <DataGridTextColumn Header="Id" Binding="{Binding Id}" FontSize="12" Width="*"/>
                    <DataGridTextColumn Header="Applicant Name" Binding="{Binding ApplicantName}" FontSize="12" Width="3*"/>
                    <DataGridTextColumn Header="Father Name" Binding="{Binding FatherName}" FontSize="12" Width="2*"/>
                    <DataGridTextColumn Header="CNIC" Binding="{Binding CNIC}" FontSize="12" Width="2*"/>
                    <DataGridTextColumn Header="Email" Binding="{Binding Email}" FontSize="12" Width="3*"/>
                    <DataGridTextColumn Header="Contact number" Binding="{Binding ContactNo}" FontSize="12" Width="2*"/>
                    <DataGridTextColumn Header="Experience" Binding="{Binding ExperienceDuration}" FontSize="12" Width="2*"/>
                    <DataGridTextColumn Header="Applied On" Binding="{Binding Date, StringFormat={}{0:yyyy-MM-dd HH:mm}}" FontSize="12" Width="2*"/>
                </DataGrid.Columns>
                <DataGrid.CellStyle>
                    <Style TargetType="DataGridCell">
                        <Setter Property="Foreground" Value="White"/>
                        <Setter Property="FontSize" Value="14"/>
                        <Setter Property="Padding" Value="6,2"/>
                    </Style>
                </DataGrid.CellStyle>
            </DataGrid>
            
            <!-- Pagination Buttons -->
            <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center" Margin="10">
                <Button Content="Previous" HorizontalAlignment="Left" Command="{Binding PrevPageCommand}" Margin="5"
                IsEnabled="{Binding CanGoPrev}"/>
                <TextBlock Text="{Binding CurrentPage}" Margin="5" Foreground="White"/>
                <TextBlock Text="{Binding TotalPages}" Margin="5" Foreground="White"/>
                <Button Content="Next" Command="{Binding NextPageCommand}" Margin="5" HorizontalAlignment="Right" IsEnabled="{Binding CanGoNext}"/>
                
            </StackPanel>
        </Grid>
    </Grid>
</UserControl>